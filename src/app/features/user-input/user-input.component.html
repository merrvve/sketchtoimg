<div class="flex sm:flex-row flex-column">
    <app-canvas-drawing></app-canvas-drawing>
    <div class="p-3">
        <div class="mb-2">
            <label class="font-semibold w-6rem">Image Description:</label>
        </div>
        <div class="mb-3">
            
            <textarea 
                rows="5"
                cols="30" 
                pInputTextarea 
                placeholder="ex: a father and a son smiling..."
                [(ngModel)]="prompt"
                [autoResize]="true">
            </textarea>
        </div>
        <div class="flex justify-content-end">
            
            <p-button icon="pi pi-sparkles" label="Generate" severity="success" (click)="onGenerateButtonClick()" />
        </div>
        
            
        
        @if(isLoading) {
            Loading...
        }
        
        @if(resultingImageUrl) {
            <div>
                <h3>Resulting Image:</h3>
                <img [src]="resultingImageUrl" alt="Resulting Image" />
              </div>
        }
    </div>
</div>

<!--Buying Modal-->
<p-dialog header="Generating Image" [modal]="true" [(visible)]="isBuyModalVisible" [style]="{ width: '30rem' }">
    @if(isLoading) {
        <div class="flex align-items-center justify-content-center gap-3 mb-3">
            <span class="p-text-secondary block mb-5">Loading...</span>
        </div>
    }
    
    <!-- <div class="flex align-items-center justify-content-center gap-3 mb-3">
            <a (onClick)="onBuy()" href="https://buymeacoffee.com/mervsenv" target="_blank" class="font-bold mb-3">Buy me a coffee</a>
    </div> -->
   
    <div class="flex justify-content-end gap-2">
        <p-button label="Cancel" severity="secondary" (onClick)="isBuyModalVisible = false" />
        <p-button label="Download" severity="success" [disabled]="true" (onClick)="isBuyModalVisible = false" />
    </div>
</p-dialog>


